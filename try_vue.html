<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Marimekko Inventory Status Component</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="src/css/lib/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="dest/css/global.css" />
    <link rel="stylesheet" href="src/css/lib/select2.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="dest/css/mari-select2.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="dest/css/inventory.css" />
    <script src='src/js/lib/jquery-3.3.1.min.js'></script>
    <script src="src/js/lib/bootstrap.min.js"></script>
    <script src="src/js/lib/select2.min.js"></script>
    <script src="src/js/lib/vue.js"></script>
    <script src="dest/js/inventory.js"></script>
</head>

<body>
    <div class='wrapper'>
        <div class='store-inventory' id='inventory-app'>
            <div class='store-inventory-toggle clearfix'>
                <div class='toggle-icon'></div>
                <div class='toggle-link' @click='toggleDropdown'>Katso saatavuus myymälössä</div>
            </div>
            <div class='store-inventory-info' v-show='showDropdown'>
              
                <mari-select2 :class="dropDownClass" v-model="cityChosen" :options="cityList" @change="switchList">
                </mari-select2>
                
                <div class='instruction'>
                    <div class='instruction-text'>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                    </div>
                    <ul class="instruction-demo">
                        <li class='green'>
                            <span class='icon'></span>Varastossa</li>
                        <li class='orange'>
                            <span class='icon'></span>Vähän jäljellä</li>
                        <li class='red'>
                            <span class='icon'></span>Loppuunmyyty</li>
                    </ul>
                </div>

                <div class="store-list">
                    <store-inventory-list
                        v-if='cityData'
                        v-for='item in cityData'
                        :storeName='item.title'
                        :storePhone='item.contact_details.phone'
                        :ownStore="typeof item.size !== 'undefined'"
                        :sizes='item.sizes'
                    ></store-inventory-list>
                </div>
            </div>
        </div>
    </div>

    <script type="text/x-template" id="store-inventory-template">
    
        <div class='store-item' :class='productTypeClass'>
            <div class='store-title'>
                <span class='store-title-name'>{{storeName}}</span>
                <span class='store-title-phone' v-if='ownStore'>{{storePhone}}</span>
            </div>
            <div class='store-status clearfix'>
                <div class='store-status-item' 
                    v-for='size in sizes' 
                    v-if="ownStore"
                    :class='getInventoryGroupClass(size.level)'
                >{{size.product_size}}</div>
                <div class="store-status-info" v-if="!ownStore">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.{{storePhone}}</div>
            </div>
        </div>
    
    </script>
</body>

</html>